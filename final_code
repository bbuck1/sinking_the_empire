---
title: "Sinking the Empire"
description: |
  A Computational History of the Campaign to Destroy the Japanese Merchant Fleet
author:
  - name: Brandan P. Buck
    url: https://example.com/norajones
    affiliation: George Mason University
    affiliation_url: xxxxxxx
date: "`r Sys.Date()`"
output: distill::distill_article
---

```{r setup, echo= FALSE}
knitr::opts_chunk$set(echo = FALSE)

knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(dplyr)
library(lubridate)
library(scales)
library(readr)
library(distill)
library(sf)
library(maps)
library(mapdata)
library(leaflet.extras)

sinking_data<- read.csv("sinking_data/japanese_merchant_fleet_sinkings_simplified_v4.csv", header = TRUE, sep = ",")
sinking_agents_complete<- read.csv("sinking_data/japanese_merchant_vessel_sinking_agent_v1.csv", header = TRUE, sep = ",")
sinking_countries_all_types<- read.csv("sinking_data/japanese_merchant_vessel_sinking_country_v1.csv", header = TRUE, sep = ".")

sinking_data$date<-as.Date(sinking_data$date, '%Y-%m-%d')


sloc<- read_sf("C:/Users/bpbuc/Documents/Brandan's Stuff/_PhD Stuff/Cilo Wired-Hist 696/Project/Data/SLOC/Japanese SLOC WWII Complete.shp")

mar_44_loc<- read_sf("C:/Users/bpbuc/Documents/Brandan's Stuff/_PhD Stuff/CILO II/project_data/loc/mar_1944_loc.shp")
sep_44_loc<- read_sf ("C:/Users/bpbuc/Documents/Brandan's Stuff/_PhD Stuff/CILO II/project_data/loc/sep_1944_loc.shp")
dec_44_loc<- read_sf ("C:/Users/bpbuc/Documents/Brandan's Stuff/_PhD Stuff/CILO II/project_data/loc/dec_1944_loc.shp")                 

oil_sites<- read_sf ("C:/Users/bpbuc/Documents/Brandan's Stuff/_PhD Stuff/Cilo Wired-Hist 696/Project/Data/For Export/Japanese Occupied Oil Production Sites/Japanese Occupied Oil Production Sites.shp")

dms2dd <- function(x) {
  deg <- str_extract(x, "\\d+") %>% as.numeric()
  min <- str_extract(x, "-\\d+") %>% str_remove("-") %>% as.numeric()
  deg <- deg + min / 60
  dir <- str_extract(x, "\\w$")
  ifelse(dir %in% c("N", "E"),
         deg,
         -deg)}

sinking_data_dd<- sinking_data %>%
  mutate(lat= dms2dd(loc_1),
         lon= dms2dd(loc_2))

sinking_data$date<-as.Date(sinking_data$date, '%Y-%m-%d')

sinking_data_dd$lat <- jitter(sinking_data_dd$lat, factor = 1.0000)
sinking_data_dd$lon <- jitter(sinking_data_dd$lon, factor = 1.0000)

```

The naval history of the Second World War in the Pacific is typical taught as one of Allied and Japanese military fleets engaged in air and surface combat across the theatre. But a critical component of the Allied strategy to defeat the Japanese empire was to sink, destroy or otherwise neutralize the Japanese merchant fleet. Traditional histories of the Allied campaign to sink the Japanese merchant fleet have focused on the submarine effort, and not without good reason. Allied, particularly U.S. subs sunk over half of the merchant tonnage lost by the Japanese and did so utilizing a relatively small number of boats. Also, the U.S. submarine fleet endured disproportionately high per capita of losses in both men and lost vessels. Lastly, submarine service, particularly during the Second World War evokes a degree of romanticism. Submarine crews, (all of whom volunteered for the "Silent Service") endured a level of hardship and danger endemic to their profession. Similarly, Submarine skippers operated with a degree of freedom not enjoyed by other naval commanders. These factors have combined to inform a historiography which has largely ignored the multifaceted campaign effort. 
However, a computational look at the data shows a more complex relationship between Allied air, sub, and mining efforts . The article uses computational methods applied to the "Japanese Naval and Merchant Shipping Losses During World War II by All Causes" a report prepared by a joint U.S. Army and Navy committee of all Japanese merchant vessels sunk by the Allies during the war. The report catalogues the vessel's type, tonnage, sinking date, location, sinking agent, and sinking country. The dataset, as with all data is not without its issues. Despite its comprehensiveness, the data only catalogues sunk vessels, and no other types of Allied action and patrols. In this respect the data is only representative of operational outcomes, and not necessarily the processes which brought about those outcomes.


```{r, layout="l-body-outset", echo= FALSE}

library(rmarkdown)
paged_table(sinking_data)

```

When view in its entirely the Allied  naval war on the Japanese merchant fleet was a complex relationship between submarine, air and mining operations. The campaign when viewed as a whole can be defined as war of attrition waged by submarines, intermittently supported by crippling air raids and capped by a debilitating mining effort designed to figuratively, and literally starve the Japanese state and people. The Allied submarine fleet, particularly that of the United States served as the most consistent sinking agent from the war's inception until early 1945. The fleet struggled early with a small, antiquated fleet, equipped with faulty torpedoes and skippered by largely inexperienced captains. As these factors improved, so did their results. Beginning in the summer of 1943, the U.S. submarine fleet started it rapid increase in effectiveness. Airpower, particularly that of the United States Navy struck decisive blows at key points in the war. These strikes not only sunk Japanese merchant vessels; they shaped the battlespace which allowed the sub fleet to operate more effectively. Lastly, mines eclipsed both at the end of the war when the Japanese empire was isolated and approaching defeat.

```{r, layout="l-body-outset", echo= FALSE, fig.cap= "This is a graph which plots totals of total tonnage sunk by sinking agent, per month. Notice the different patterns between submarines, aircraft, and mines. The submarine campaigned waxed and waned but grew steadily until Oct 1944. Aircraft sinkings spiked periodically with major operations and the mining effort started late and look precedence until the end of the war."}

sinking_data %>%
  select(id_no, date, tonnage, sinking_agent, year) %>%
  filter(year > 1941,
         sinking_agent == "submarine"
         | sinking_agent == "aircraft"
         | sinking_agent == "mine") %>%
  group_by(month= floor_date(date, "month"),
           sinking_agent) %>%
  summarize(total_ton= sum(tonnage),
            amount= n(),
            avg_ton= sum(tonnage) / n()) %>%
  ggplot(aes(x= month, y= total_ton, color= sinking_agent)) + geom_line(size= 1)+ geom_point(size= 2) +
  labs(title = "Total Tonnage of Vessels Sunk By Sinking Agent, By Month",
       x= "Year",
       y= "Total Tonnage of Sunken Vessels",
       color= "Sinking Agent") +
       scale_color_manual(labels = c("Aircraft", "Mine", "Submarine"),
                     values = c("red", "green", "blue")) +
  scale_y_continuous(name = "Tonnage in Hundred of Thousands",
                     labels = c(0, 1, 2, 3))

```

The historiographic focus on the Allied submarine effort is not without its merits. Allied subs sunk 1158 merchant vessels which accounted for 52% of all sunken Japanese merchant vessels. Similarly, these vessels comprised over 4.8 million tons of merchant shipping, 59% of all Japanese merchant tonnage lost to the Allies during the war.  These numbers are all juxtaposed with the Allied submarine fleet's relatively small size. 
The United States Navy fielded 263 submarines (179 of which sunk at least one merchant vessel). These boats made 1,147 combat patrols in the Pacific  and throughout the war the Allied submarine fleets had the longest reach of any naval asset. From 8 Dec 1941 until early 1945 Allied subs were the primary sinking agent of Japanese shipping. During that time U.S. subs prowled the Japanese Sea Lines of Communication (SLOC) which connected the core of the Japanese empire to its positions on Truk Lagoon, the Palau Islands and Rabaul, New Britain. 
Over half of all sinkings completed by U.S. subs occurred on these SLOCs and were done in direct support of the Allied advance though the Pacific. Beginning in July 1943 U.S. submarines began their steady ascent into operational success due to an increase in the quantity and quality of available boats, the fielding of the more dependable Mark 18 torpedo, and the breaking of the Japanese merchant fleet's coded communications. [Citation needed]
The submarine war accelerated during the spring of 1944 and reached its crescendo during the fall of that year. Between September and December 1944, 68 U.S. submarines sunk 135 merchant vessels which totaled over 700,000 tons of shipping. Of this, October 1944 saw the most active month for U.S. submarines, 36 different boats sunk 68 Japanese merchant vessels which totaled 349,672 tons of shipping. This is due to no small part of the collapsing front initiated by U.S. Navy Surface fleet and the carrier aircraft they unleased upon Japanese shipping lanes. The success of the war as a whole freed up more subs to operate within the Luzon Straight, a natural marine chokepoint which divided the Philippine island of Luzon and the island of Taiwan. The straight hosted a primary SLOC, a critical maritime route which teemed with large vessels, particularly tankers ferried Near East Asia oil to Japanese home islands. The average merchant vessel sunk in these waters weighed in at approximately 4,600 tons, 26% heavier than elsewhere in Japan's maritime empire.  With the advance of the Allied fleet to the east, U.S. submarines focused their efforts on severing this artery thereby strategically weakening the empire and supporting the Allied invasion of the Philippines. Of the October sinkings caused by U.S. submarines, 82% of these events occurred in the South China Sea and in the waters surrounding Taiwan. By the end of December this push by the submarine fleet coupled with the Allied invasion of Luzon cut this major shipping route. 

Allied airpower, particularly U.S. navy-carrier based aircraft crushed shipping nodes and closed sea lanes on their own. When computing the campaign as a whole, Allied airpower accounted for a combined 752 vessels and over 2.5 million tons of destroyed shipping. Allied airpower, particularly U.S. naval carrier borne aircraft delivered significant blows to Japanese shipping during large offensive operations, particularly from the start of 1944 through to the end of the war. U.S. naval carrier-based aircraft massed their assaults on high volume ports and heavily trafficked shipping nodes. Such attacks neutralized major shipping nodes at Rabaul, Truk, the Palau Islands and the island of Morotai. Those operations sunk a combined 98 merchant vessels which totaled over 400,000 tons of shipping. Half of which were lost on the coral lagoon of Truk as a result of Operation Hailstone.  More importantly, these raids closed critical shipping lanes and freed up the submarine fleet to peruse other targets thereby supporting further operations and degrade the SLOCs which connected the home islands to Southeast Asia. 

```{r, layout="l-body-outset", fig.width=15, fig.height=6, echo= FALSE, fig.cap= "Map of Japanese merchant vessels sunk by the Allies in 1944, colorized by sinking agent. Japanese Sea Lines of Communication (SLOC) are symbolized by grey lines, oil production facilities are symbolized by black circles and the Allied advance is depicted in green."}

pal <- colorFactor(c("red", "blue"), domain = c("aircraft", "submarine"))

sinking_data_dd_jan_mar_44 <-sinking_data_dd %>%
  filter(year == 1944) %>%
  filter(date < "1944-04-01") %>%
  filter (sinking_agent != "sabotage" |
            sinking_agent != "unknown")

sinking_data_dd_apr_sep_44 <-sinking_data_dd %>%
  filter(year == 1944) %>%
  filter(date < "1944-10-01") %>%
  filter(date > "1944-03-30") %>%
  filter (sinking_agent != "sabotage" |
            sinking_agent != "unknown")

sloc_closed_jun_44<- sloc %>%
  filter(Closed != "March 44") %>%
  filter(Closed != "Jun 44")

sinking_data_dd_oct_dec_44 <-sinking_data_dd %>%
  filter(year == 1944) %>%
  filter(date > "1944-09-29",
         sinking_agent != "sabotage" |
           sinking_agent != "unknown")

sloc_closed_sep_44<- sloc %>%
  filter(Closed != "March 44") %>%
  filter(Closed != "Sep 44") %>%
  filter(Closed != "May 44")

leaflet(options = leafletOptions(zoomControl = FALSE,
                                 dragging = FALSE,
                                 doubleclickzoom = FALSE)) %>%
  addProviderTiles("Stamen.Watercolor") %>%
  setMaxBounds(lng1 = 158, lat1 = -6, lng2 = 102, lat2 = 24) %>%
  setView(lng = 133, lat = 15, zoom = 4.0) %>%
  addCircleMarkers(data = sinking_data_dd_jan_mar_44,
                   lng = ~lon,
                   lat = ~lat,
                   color = ~pal(sinking_agent),
                   radius = 3,
                   popup = ~paste(name, type, sinking_agent, date, sep = ","),
                   group = "1. Jan-Mar, 1944") %>%
  addPolylines(data = sloc,
               color = "grey",
               group = "1. Jan-Mar, 1944",
               popup = ~paste(feature, Size, sep = ",")) %>%
  addCircleMarkers(data = sinking_data_dd_apr_sep_44,
                   lng = ~lon,
                   lat = ~lat,
                   color = ~pal(sinking_agent),
                   radius = 3,
                   popup = ~paste(name, type, sinking_agent, date, sep = ","),
                   group = "2. Apr-Sep, 1944") %>%
  addPolylines(data = sloc_closed_jun_44,
               color = "grey",
               group = "2. Apr-Sep, 1944",
               popup = ~paste(feature, Size, sep = ",")) %>%
  addCircleMarkers(data = sinking_data_dd_oct_dec_44,
                   lng = ~lon,
                   lat = ~lat,
                   color = ~pal(sinking_agent),
                   radius = 3,
                   popup = ~paste(name, type, sinking_agent, date, sep = ","),
                   group = "3. Oct-Dec, 1944") %>%
  addPolylines(data = sloc_closed_sep_44,
               color = "grey",
               group = "3. Oct-Dec, 1944",
               popup = ~paste(feature, Size, sep = ",")) %>%
  addPolygons(data= mar_44_loc,
              color = "green",
              opacity = 0.0, fillOpacity = 0.4,
              group = "1. Jan-Mar, 1944") %>%
  addPolygons(data= sep_44_loc,
              color = "green",
              opacity = 0.0, fillOpacity = 0.4,
              group = "2. Apr-Sep, 1944") %>%
  addPolygons(data= dec_44_loc,
              color = "green",
              opacity = 0.0, fillOpacity = 0.4,
              group = "3. Oct-Dec, 1944") %>%
  addCircleMarkers(data = oil_sites,
                   color = "black",
                   radius = 7,
                   popup = ~paste(loc, site, sep = ",")) %>%
  addLegend(position = "bottomright",
            pal= pal,
            values = c("aircraft", "submarine"),
            title = "Sinking Agent") %>%
  addLayersControl(
    baseGroups = c("1. Jan-Mar, 1944","2. Apr-Sep, 1944",
                      "3. Oct-Dec, 1944"),
    options = layersControlOptions(collapsed = FALSE)) %>%
  addScaleBar(position = "bottomleft",
              options = scaleBarOptions(maxWidth = 250, imperial = TRUE,
                                        metric = FALSE, updateWhenIdle = TRUE))


```

A close examination of the Japanese tanker vessel fleet is emblematic of this overall trend. The Allied effort to sink these tankers was a key subcomponent of the campaign as the Japanese empire was critically dependent upon oil and petroleum products from Southeast Asia. However, their sinking did not become a priority until the end of 1943.  In 1944, all Allied sinking agents sunk 125 tankers which totaled 728,805 tons, which constituted almost five times the levels from 1942 and 1943 combined. Throughout 1944 the Allied submarine fleet, particularly U.S. submarines constituted 53% of total tanker tonnage, and 73% of those vessels sunk. 
As with the larger campaign Allied aircraft delivered concentrated blows during massive operations like Hailstone and Desecrate One. However, with the Japanese tanker fleet, the biggest blow of all would be delivered by the United States Navy's Fast Carrier Task Force (Task Force 38), when it embarked on the ironically named: Operation Gratitude. The taskforce, commanded by Vice-Admiral John McCain launched sizeable air raids on Japanese merchant and combat vessels throughout South China Sea, particularly off the coasts of Taiwan, Luzon, and Indochina between 10 and 20 January 1945. During these raids U.S. naval aircraft sunk or destroyed 153,959 tons of tanker shipping. It was the costliest week of the war for the Japanese tanker fleet and constituted 12% of all tanker tonnage lost by Japan during the war. The raid caused the precipitous decline in Japan's ability to import oil, and thereby continue to mount an effective resistance. What tankers which remained afloat were unable to make their voyages due to Allied air and sea superiority; 627,100 tons of oil tankers languished without purpose.  Allied aircraft, submarines and mines would continue to sink Japanese tanker vessels between February and the end of the war in August. However, the trend was set with Operation Gratitude.


```{r, layout="l-body-outset", echo= FALSE, fig.cap= "This graph highlights the importance of Operation Gratitude to the elimination of the Japanese tanker fleet, and therefore the ending of the war. Allied submarines sunk more tanker vessels and more tonnage than airpower, but the raid was by far the biggest single blow to the fleet and doomed Japan to strategic isolation."}

sinking_data %>% 
  filter(sinking_agent == "submarine" |
         sinking_agent == "aircraft"|
         sinking_agent == "mine") %>% 
  filter(type == "tanker") %>% 
  group_by(month= floor_date(date, "month"),
           sinking_agent) %>% 
  summarize(total_ton= sum(tonnage)) %>% 
ggplot(aes(x= month, y= total_ton, color= sinking_agent)) + geom_line(size= 1) + geom_point(size= 2)+
  labs(title = "Tonnage of Tanker Vessels By Month and Sinking Agent",
       color= "Sinking Agents",
       x= "Date",
       y= "Tonnage") +
  scale_color_manual(labels = c("Aircraft", "Mine", "Submarine"),
                     values = c("red", "green", "blue"))
```

The raid furthered another trend, and that was the rapid reduction in the average tonnage sunk by the Allies. Between 1944 and 1945, the Allies sunk 28% fewer vessels and 45% fewer tons of merchant shipping. The key to this discrepancy is the drop in average tonnage between 1944 and 1945, 4,105 and 2,566, respectively. The culminative war effort, capped off by the South China Sea raid deprived the Japanese merchant fleet of its largest vessels and closed off its busiest SLOCs. With the Japanese empire cut in two, Allied war planners focused on closing the small, coastal waterways and local shipping lanes which connected the Japanese Home Islands to each other, Korea and northern China.   

The South China Sea raid coupled with the Philippine campaign effectively cut Japan from its possessions in Southeast Asia. To complete the isolation of the Japanese home islands the Allies turned to massive mining campaign bluntly named: Operation Starvation. B-29 bombers from U.S. Army Air Force's XXI Bomber Command were tasked to drop naval mines into the harbors, inlets and straights which connected the Japanese islands to each other and the rest of Asia. Japan had historically underinvested in its terrestrial transportation networks due cost advantages of maritime transport. As a result, local maritime shipping accounted for 2/3rds of material distribution between the home islands.  A mine blockade afford the Allies an opportunity to cut the Japanese empire off from its remaining possession and from itself.
From 1 May to 14 Aug 1945 U.S. Army Airforce Force dropped approximately 12,000 mines, which only took little over 5% of the command's total effort.   The mining activity and the overwhelming density sinkings occurred within the Kanmon straits, a critical waterway which connected the southern Japanese islands of Kyushu, Honshu, and Shikoku to the Korean peninsula and northern China. Merchant vessel sinkings attributed to mines accounted for 48 % of sunken merchant vessels and 52 % sunken merchant tonnage. The mining campaign constituted the most consistent sinker of vessels during the final stages of the war, and sent 81 vessels to the bottom during the war's final 106 days. Additionally, pervasiveness of the minefields meant that they consistently claimed larger vessels than those destroyed by either subs or aircraft. The average vessel sunk by a mine during this period weighed over 2300 tons, whereas those sunk by aircraft and submarines averaged in at 1910 and 2067 tons, respectively. 


```{r, layout="l-body-outset", echo= FALSE, fig.cap= "Operation Starvation was the final significant Allied naval action of the war. It effectively cut off the Japanese home islands and accelerated the end of the war. The 18,765 ton Kotobuki Maru was removed from this representation for scaling purposes."}

facet_label1<- c(aircraft = "Aircraft", mine = "Mine", submarine = "Submarine")

sinking_data %>%
  filter(date > "1945-04-30",
         tonnage < 15000) %>%
ggplot(aes(x= date, y= tonnage, color= sinking_agent)) + geom_point(size= 2) +
  labs(title = "Operation Starvation: Vessels Sunk By Sinking Agent, By Day",
       x= "Date",
       y= "Tonnage of Sunken Vessel",
       color= "Sinking Agent") +
       facet_wrap(~ sinking_agent, labeller = labeller(sinking_agent = facet_label1)) +
  scale_color_manual(labels = c("Aircraft", "Mine", "Submarine"),
                     values = c("red", "green", "blue"))

```

The Allied campaign to sink the Japanese merchant fleet is best understood as a combined effort of submarines, aircraft, and mines. This facet of the war also serves as an instructive medium to understand the larger conflict and the issues of trade and geopolitical competition which proceeded it. A robust understand of this facet of the war, buttressed by computational methods can contribute to debates about the war's end and the decisions which preceded it.


Learn more at <https://unrestricted.omeka.net/>.

Special thanks to Bat-Erdene Altankhuyag, Matthew DiRisio and John Sheehan for their earlier work on "Unrestricted: The Campaign to Sink the Japanese Merchant Fleet During World War II" which made this article possible.




